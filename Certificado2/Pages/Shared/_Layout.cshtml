@using Microsoft.AspNetCore.Identity;

@inject UserManager<Certificado2.UsuarioCertificados> UserManager
@inject SignInManager<Certificado2.UsuarioCertificados> SignInManager

@{
    var usuario = await UserManager.GetUserAsync(User); // Obtiene el usuario autenticado
    var IDCertificador = usuario?.idcertificador;
}
@*
@if (IDCertificador != null)
{
    <p>ID Certificador: @IDCertificador</p>
}*@

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="~/assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/assets/css/boxicons.min.css" />
    <link rel="stylesheet" href="~/assets/css/meanmenu.css" />
    <link rel="stylesheet" href="~/assets/css/animate.min.css" />
    <link rel="stylesheet" href="~/assets/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="~/assets/css/owl.theme.default.min.css" />
    <link rel="stylesheet" href="~/assets/fonts/flaticon.css" />
    
    <link rel="stylesheet" href="~/assets/css/style.css" />
    <link rel="stylesheet" href="~/assets/css/responsive.css" />
    <title>Certificado de Autenticidad y Calidad</title>
    <link rel="icon" type="image/png" href="assets/4x/fullLogo.png" />
    <link href="~/css/vanessa/vanessa.css" rel="stylesheet" />
</head>

<!-- Preloader -->
<div class="loader" style="padding:40px">
    <div class="d-table">
        <div class="d-table-cell">
            <div class="pre-load">
                <div class="inner one"></div>
                <div class="inner two"></div>
                <div class="inner three"></div>
            </div>
        </div>
    </div>
</div>

<!-- Header -->
<div class="header-area">
    <div class="container">
        <div class="row">
            <div class="col-sm-9 col-lg-8">
                <div class="left">
                    <ul>
                        <li>
                            <i class="bx bx-mail-send"></i>
                            <a href="mailto:info@certificadodeautenticidad.com">
                                <span>info@certificadodeautenticidad.com</span>
                            </a>
                        </li>
                        <li>
                            <i class="bx bx-phone-call"></i>
                            <a href="tel:+527751513360">+52 775 1513360</a>
                        </li>
                        <li>
                            <i class="bx bx-time"></i>
                            <span>Lun - Sab: 8:00 AM - 6:00 PM</span>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-3 col-lg-4">
                <div class="right">
                    <ul>
                        <li>
                            <a href="#" target="_blank">
                                <i class="bx bxl-facebook"></i>
                            </a>
                        </li>
                        <li>
                            <a href="#" target="_blank">
                                <i class="bx bxl-twitter"></i>
                            </a>
                        </li>
                        <li>
                            <a href="#" target="_blank">
                                <i class="bx bxl-youtube"></i>
                            </a>
                        </li>
                        <li>
                            <a href="#" target="_blank">
                                <i class="bx bxl-instagram"></i>
                            </a>
                        </li>
                        <li>
                            <a href="#" target="_blank">
                                <i class="bx bxl-twitter"></i>
                            </a>
                        </li>
                    </ul>
                    <div>
                        @{
                            string usuariosaludo = "Hola";
                            if (User.IsInRole("Admin") || User.IsInRole("Certificador"))
                            {  usuariosaludo = "Hola, " + usuario.NombreCompleto;
                            
                            }
                        }
                        @usuariosaludo
                    </div>
                </div>
            </div>
         
        </div>
    </div>
</div>

<div class="navbar-area sticky-top">
    
        <a href="index.html" class="logo">
            <img src="~/assets/img/FullLogo.jpg" alt="Logo" width="40px" height="20px" />
        </a>
    

    <div class="main-nav">
        <div class="container">
            <nav class="navbar navbar-expand-md navbar-light">
                <a class="navbar-brand" href="index.html">
                    <img src="assets/4x/FullLogo1.jpg" width="100px" height="100px" alt="Logo" />
                </a>
                <div class="collapse navbar-collapse mean-menu" id="navbarSupportedContent">
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a href="~/Index" class="nav-link dropdown-toggle active">Inicio </i></a>

                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link dropdown-toggle">Verificar Certificado <i class="bx bx-chevron-down"></i></a>
                            <ul class="dropdown-menu">
                                <li class="nav-item">
                                    <a href="~/Monedas/BuscarCertificado" class="nav-link">Monedas</a>

                                </li>
                                <li class="nav-item">
                                    <a href="~/Joyeria/BuscarCertificado" class="nav-link">Joyeria</a>

                                </li>
                                <li class="nav-item">
                                    <a href="~/Artesania/BuscarCertificado" class="nav-link">Artesania</a>

                                </li>


                            </ul>
</li>
                       
                         @if (!User.IsInRole("Admin"))
                            {
                                <li class="nav-item">
                                <a href="~/acercade" class="nav-link">Acerca de</a>
                                </li>
                                @if (User.IsInRole("Certificador"))
                                {
                                    <li class="nav-item">
                                        <a href="~/Precios/Index" class="nav-link dropdown-toggle">Comprar</a>

                                    </li>
                                }
                                else
                                {
                                    <li class="nav-item">
                                        <a href="~/Precios/Index" class="nav-link dropdown-toggle">Precios</a>

                                    </li>
                                }


                       
                                <li class="nav-item">
                                    <a href="contact.html" class="nav-link">Contactanos</a>
                                </li>
                            }
                        
                       
                        @if (User.IsInRole("Certificador"))
                        {
                            <li class="nav-item">
                                <a href="#" class="nav-link dropdown-toggle">Capturar Certificado <i class="bx bx-chevron-down"></i></a>
                                <ul class="dropdown-menu">
                                    @{
                                        string tieneaccesonumismatica = User.Claims.FirstOrDefault(c => c.Type == "NUMISMATICA")?.Value.ToString();
                                        if (tieneaccesonumismatica=="SI")
                                        {
                                            <li class="nav-item">
                                                <a asp-controller="Registro" asp-action="CrearCertificadoMonedas" class="nav-link dropdown-toggle">Numismatica/Billete </a>
                                            </li>
                                        }

                                        string tieneaccesojoyeria = User.Claims.FirstOrDefault(c => c.Type == "JOYERIA")?.Value.ToString();
                                        if (tieneaccesojoyeria == "SI")
                                        {

                                            <li class="nav-item">
                                                <a asp-controller="Registro" asp-action="CrearCertificadoJoyeria" class="nav-link dropdown-toggle">Joyeria </a>
                                            </li>
                                        }
                                        string tieneaccesoartesania = User.Claims.FirstOrDefault(c => c.Type == "ARTESANIA")?.Value.ToString();
                                        if (tieneaccesoartesania == "SI")
                                        {
                                            <li class="nav-item">
                                                <a asp-controller="Registro" asp-action="Artesania" class="nav-link dropdown-toggle">Artesania </a>
                                            </li>
                                            
                                        }
                                        if (tieneaccesonumismatica == "SI")
                                        {
                                            <li class="nav-item">
                                                <a asp-controller="Registro" asp-action="IndexNumismaticaCertificador"
                                                   asp-route-Certificador="@IDCertificador"
                                                   class="nav-link dropdown-toggle">Certificados Numismatica</a>
                                            </li>
                                        }
                                        if (tieneaccesojoyeria == "SI")
                                        {


                                            <li class="nav-item">
                                                <a asp-controller="Registro" asp-action="IndexJoyeriaCertificador"
                                                   asp-route-Certificador="@IDCertificador"
                                                   class="nav-link dropdown-toggle">Certificados Joyeria</a>
                                            </li>
                                        }

                                    }
                                 
                                    
                                   
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a asp-controller="Account" asp-action="Logout" class="nav-link dropdown-toggle">Salir</a>
                            </li>
                        }
                        @if (User.IsInRole("Admin"))
                        {
                            <li class="nav-item">
                                <a asp-controller="Certificadores" asp-action="Index" class="nav-link dropdown-toggle">Certificadores</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link dropdown-toggle">Capturar Certificado <i class="bx bx-chevron-down"></i></a>
                                <ul class="dropdown-menu">
                                    <li class="nav-item">
                                        <a asp-controller="Registro" asp-action="NumismaticaAdmin" class="nav-link dropdown-toggle">Monedas/Billete </a>
                                    </li>
                                    <li class="nav-item">
                                        <a asp-controller="Registro" asp-action="JoyeriaAdmin" class="nav-link dropdown-toggle">Joyeria </a>
                                    </li>
                                    <li class="nav-item">
                                        <a asp-controller="Registro" asp-action="ArtesaniaAdmin" class="nav-link dropdown-toggle">Artesania </a>
                                    </li>
                                    <li class="nav-item">
                                        <a asp-controller="Registro" asp-action="IndexNumismatica" class="nav-link dropdown-toggle">Certificados Numismatica</a>
                                    </li>
                                    <li class="nav-item">
                                        <a asp-controller="Registro" asp-action="IndexJoyeria" class="nav-link dropdown-toggle">Certificados Joyeria</a>
                                    </li>
                                    <li class="nav-item">
                                        <a asp-controller="Registro" asp-action="IndexArtesania" class="nav-link dropdown-toggle">Certificados Artesania</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a asp-controller="Account" asp-action="Logout" class="nav-link dropdown-toggle">Salir</a>
                            </li>
                        }
                        @if (!User.IsInRole("Admin") && !User.IsInRole("Certificador"))
                        {
                            <li class="nav-item">
                                <a asp-controller="Account" asp-action="Login" class="nav-link dropdown-toggle">Ingresar</a>
                            </li>
                        }
                    </ul>

                </div>
            </nav>
        </div>
    </div>
</div>


<body>
            @RenderBody()
</body>
</html>
<!-- Footer -->
<footer class="footer-area pt-100">
    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-lg-3">
                <div class="footer-item">
                    <div class="footer-logo">
                        <a class="footer-corel" href="index.html">
                            <img src="~/assets/4x/lineal.png" alt="Logo" />
                        </a>
                        <p>Asegura la genuinidad de productos artesanales, Monedas y joyería mediante certificaciones verificables, brindando confianza tanto a creadores como a compradores.</p>
                        <ul>
                            <li>
                                <a href="#" target="_blank">
                                    <i class="bx bxl-facebook"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" target="_blank">
                                    <i class="bx bxl-twitter"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" target="_blank">
                                    <i class="bx bxl-linkedin"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" target="_blank">
                                    <i class="bx bxl-instagram"></i>
                                </a>
                            </li>
                            <li>
                                <a href="#" target="_blank">
                                    <i class="bx bxl-youtube"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-3">
                <div class="footer-item">
                    <div class="footer-hours">
                        <h3>Apertura en linea</h3>
                        <ul>
                            <li>Lunes <span>8:00 - 20:00</span></li>
                            <li>Martes <span>8:00 - 20:00</span></li>
                            <li>Miercoles <span>8:00 - 20:00</span></li>
                            <li>Jueves <span>8:00 - 20:00</span></li>
                            <li>Viernes <span>8:00 - 20:00</span></li>
                            <li>Sabado <span>9:00 - 14:00</span></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-3">
                <div class="footer-item">
                    <div class="footer-link">
                        <h3>Links</h3>
                        <ul>
                            <li>
                                <i class="bx bx-chevron-right"></i>
                                <a href="acercade">Acerca de</a>
                            </li>
                            <li>
                                <i class="bx bx-chevron-right"></i>
                                <a href="precios">Precios</a>
                            </li>

                            <li>
                                <i class="bx bx-chevron-right"></i>
                                <a href="blog.html">Blog</a>
                            </li>
                            <li>
                                <i class="bx bx-chevron-right"></i>
                                <a href="faq.html">FAQ</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-sm-6 col-lg-3">
                <div class="footer-item">
                    <div class="footer-contact">
                        <h3>Información de contacto</h3>
                        <ul>
                            <li>
                                <i class="bx bxs-location-plus"></i>
                                <span>Pedro Garcia Rangel 184, Santiago Tulantepec, Hgo.</span>
                            </li>
                            <li>
                                <i class="bx bxs-phone-call"></i>
                                <a href="tel:+527751513360">+52 775 151 3360</a>

                            </li>
                            <li>
                                <i class="bx bxs-paper-plane"></i>
                                <a href="#">
                                    <span>info@certificadodeautenticidad.com</span>
                                </a>
                                <a href="#">
                                    <span>info2@certificadodeautenticidad.com</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="copyright-area">
        <div class="container">
            <p>Copyright  2022 <a href="#" target="_blank">Plantilla Corel</a></p>
        </div>
    </div>
    <div class="footer-shape">
        <img src="assets/img/footer-bg.png" alt="Footer" />
    </div>
</footer>
<!-- End Footer -->
<!-- Go To Top -->
<div class="go-top">
    <i class="bx bxs-up-arrow-alt"></i>
    <i class="bx bxs-up-arrow-alt"></i>
</div>
<!-- End Go To Top -->

<script src="~/assets/js/jquery.min.js"></script>
<script src="~/assets/js/popper.min.js"></script>
<script src="~/assets/js/bootstrap.min.js"></script>
<script src="~/assets/js/form-validator.min.js"></script>
<script src="~/assets/js/jquery.meanmenu.js"></script>
<script src="~/assets/js/wow.min.js"></script>
<script src="~/assets/js/owl.carousel.min.js"></script>
<script src="~/assets/js/jquery-modal-video.min.js"></script>
<script src="~/assets/js/odometer.min.js"></script>
<script src="~/assets/js/jquery.appear.min.js"></script>
<script src="~/assets/js/smoothscroll.min.js"></script>
<script src="~/assets/js/custom.js"></script>
